<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <header>
        <h1>Dynamic Todo List</h1>
    </header>
    <main id="main">
        <div class="todo-form-box">
            <div class="todo-form">
                <input type="text" id="input-box" placeholder="Add a new todo">
                <button class="button" id="add-button">Add</button>
            </div>
        </div>  
        <div class="todo-list-box">
            <h3>Count: <span id="count">0</span></h3>
            <ul id="todo-list">
            </ul>
        </div>
        
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script>
        const addButton = document.getElementById('add-button');
        addButton.addEventListener('click', addTodo);

        function addTodo() {
            let todoInput = document.getElementById('input-box');
            let todoList = document.getElementById('todo-list');
            if (todoInput.value === '') {
                return;
            }
            
            let todoItem = document.createElement('li');
            
            let todoText = document.createElement('span');
            todoText.className = 'todo-text';
            todoText.textContent = todoInput.value;
            todoItem.appendChild(todoText);
            
            let buttonContainer = document.createElement('div');
            buttonContainer.className = 'button-container';
            
            let markCompleteButton = document.createElement('button');
            markCompleteButton.textContent = 'Mark Complete';
            markCompleteButton.className = 'mark-complete-button';
            markCompleteButton.addEventListener('click', markComplete);
            buttonContainer.appendChild(markCompleteButton);

            let deleteButton = document.createElement('button');
            deleteButton.textContent = 'Delete';
            deleteButton.className = 'delete-button';
            deleteButton.addEventListener('click', deleteTodo);
            buttonContainer.appendChild(deleteButton);
            
            todoItem.appendChild(buttonContainer);
            todoList.appendChild(todoItem);

            count.textContent = parseInt(count.textContent) + 1;
            todoInput.value = '';
        }

        function deleteTodo(event) {
            let todoItem = event.target.parentElement.parentElement;
            todoItem.remove();
            count.textContent = parseInt(count.textContent) - 1;
        }

        function markComplete(event) {
            let todoItem = event.target.parentElement.parentElement;
            let todoText = todoItem.querySelector('.todo-text');
            todoText.style.textDecoration = 'line-through';
            todoText.style.color = '#999999';
        }
    </script>
</body>
</html>